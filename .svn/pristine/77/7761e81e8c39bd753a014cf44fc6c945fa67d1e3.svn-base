//libraries//
import {NgModule, ErrorHandler} from '@angular/core';
import {HardwareBackButtonService} from '../providers/backbutton';
import {BrowserModule} from '@angular/platform-browser';
import {ReactiveFormsModule} from '@angular/forms';
import {HttpModule} from '@angular/http';
import {BrowserAnimationsModule} from '@angular/platform-browser/animations';

//import { JsonPipe } from '@angular/common';
import {IonicApp, IonicModule, IonicErrorHandler} from 'ionic-angular';
import {Storage} from '@ionic/storage';
import {CallNumber} from '@ionic-native/call-number';

import {AndroidFullScreen} from '@ionic-native/android-full-screen';
import {Diagnostic} from '@ionic-native/diagnostic';
import {File} from '@ionic-native/file';
import {FileOpener} from '@ionic-native/file-opener';
import {ActionSheet} from '@ionic-native/action-sheet';
import {Camera} from '@ionic-native/camera';
import {Device} from '@ionic-native/device';
import {NavigationBar} from '@ionic-native/navigation-bar';
import {SplashScreen} from '@ionic-native/splash-screen';
import {StatusBar} from '@ionic-native/status-bar';
import {Keyboard} from '@ionic-native/keyboard';
import {Push} from '@ionic-native/push';
// import { Push, PushObject, PushOptions } from '@ionic-native/push';
import {Badge} from '@ionic-native/badge';
import {InAppBrowser} from '@ionic-native/in-app-browser';


import {MyApp} from './app.component';
//pages//
import {HistoryPage} from '../pages/history/history';
import {AlertsPage} from '../pages/alerts/alerts';
import {HomeKeysPipe, HomePage} from '../pages/home/home';
import {DrivingDirectionsPage} from '../pages/driving-directions/driving-directions';
import {TabsPage} from '../pages/tabs/tabs';
import {LoginPage} from '../pages/login/login';
import {SplashPage} from '../pages/splash/splash';
import {RejectNotesPage} from '../pages/reject-notes/reject-notes';
import {FeedbackPage} from '../pages/feedback/feedback';
import {KeysPipe, NextDayPage} from '../pages/next-day-tasks/next-day';
import {CompleteNotesPage} from '../pages/complete-notes/complete-notes';
import {HistoryReviewPage} from '../pages/history-review/history-review';
import {HistoryFeedbackPage} from '../pages/history-feedback/history-feedback';
import {ForemanPage} from '../pages/foreman/foreman'
import {TimecardKeysPipe, TimecardPage} from '../pages/timecard/timecard'

//providers//
import {ApiService} from '../providers/api-service';
import {TaskManager} from '../providers/task-manager';
import {StorageService} from '../providers/storage-service';
import {GoogleMapsManager} from '../providers/google-maps-manager';
import {GoogleMapsService} from '../providers/google-maps-service';
import {UserManager} from '../providers/user-manager';
import {Geolocation} from '@ionic-native/geolocation';
// import { ImagePicker } from '@ionic-native/image-picker';
// import { ImageResizer, ImageResizerOptions } from '@ionic-native/image-resizer';


import {Utils} from '../utils/utils';
import {LaunchNavigator} from '@ionic-native/launch-navigator';


import {CloudSettings, CloudModule} from '@ionic/cloud-angular';

const cloudSettings: CloudSettings = {
    'core': {
        'app_id': 'a1e0e4dc'
    },
    'push': {
        'sender_id': '675697041935',
        'pluginConfig': {
            'ios': {
                'alert': true,
                'badge': true,
                'sound': true
            },
            'android': {
                'iconColor': '#343434'
            }
        }
    }
};


export function provideStorage() {
    return new Storage({name: '_ctsdb'});
}

@NgModule({
    declarations: [
        MyApp,
        AlertsPage,
        HistoryPage,
        HomePage,
        TabsPage,
        DrivingDirectionsPage,
        LoginPage,
        SplashPage,
        RejectNotesPage,
        FeedbackPage,
        NextDayPage,
        CompleteNotesPage,
        HistoryFeedbackPage,
        HomeKeysPipe,
        KeysPipe,
        ForemanPage,
        HistoryReviewPage,
        TimecardPage,
        TimecardKeysPipe
    ],
    imports: [
        BrowserModule,
        ReactiveFormsModule,
        HttpModule,
        BrowserAnimationsModule,
        CloudModule.forRoot(cloudSettings),
        IonicModule.forRoot(MyApp, {
            scrollAssist: false,
            autoFocusAssist: false,
            tabsPlacement: 'bottom',
            platforms: {
                android: {
                    //tabsPlacement : 'top'
                }
            }
        }, {
            links: []
        }), //end IonicModule.forRoot()
    ],
    bootstrap: [IonicApp],
    entryComponents: [
        MyApp,
        HistoryPage,
        AlertsPage,
        HomePage,
        TabsPage,
        DrivingDirectionsPage,
        LoginPage,
        SplashPage,
        RejectNotesPage,
        FeedbackPage,
        NextDayPage,
        CompleteNotesPage,
        HistoryFeedbackPage,
        ForemanPage,
        HistoryReviewPage,
        TimecardPage
    ],
    /** NB: providers are singletons */
    providers: [
        {provide: ErrorHandler, useClass: IonicErrorHandler},
        {provide: Storage, useFactory: provideStorage},
        ApiService,
        TaskManager,
        StorageService,
        Diagnostic,
        GoogleMapsManager,
        GoogleMapsService,
        UserManager,
        Geolocation,
        Utils,
        LaunchNavigator,
        CallNumber,
        Camera,
        AndroidFullScreen,
        File,
        FileOpener,
        ActionSheet,
        Device,
        NavigationBar,
        SplashScreen,
        StatusBar,
        Keyboard,
        Push,
        Badge,
        InAppBrowser,
        HardwareBackButtonService
    ]
})
export class AppModule {
}
