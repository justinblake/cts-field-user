import {Component} from '@angular/core';
import {HomePage} from '../home/home';
import {HistoryPage} from '../history/history';
import {AlertsPage} from '../alerts/alerts';
import {TaskManager} from "../../providers/task-manager";
import {UserManager} from '../../providers/user-manager';
import {ForemanPage} from "../foreman/foreman";
import {TimecardPage} from "../timecard/timecard";

@Component({
    templateUrl: 'tabs.html',
})
export class TabsPage {
    // this tells the tabs component which Pages
    // should be each tab's root Page
    // starting tab is set in tabs.html (selectedIndex)
    tab1Root: any = HomePage;
    tab2Root: any = HistoryPage;
    tab3Root: any = AlertsPage;
    tab4Root: any = TimecardPage;
    tab5Root: any = ForemanPage;
    currentUser: any = '';
    disableTabs: boolean = false;
    foremanTab: boolean = false;
    isLessor: boolean = false;

    constructor(public taskManager: TaskManager,
                private userMgr: UserManager) {
        this.currentUser = this.userMgr.getUser();

        if (this.currentUser.role_id === 6) {
            this.disableTabs = true;
        }
        if (this.currentUser.role_id === 5) {
            this.foremanTab = true;
        }
        if (this.currentUser.is_lessor === 1) {
            this.isLessor = true;
        }
    }
}
